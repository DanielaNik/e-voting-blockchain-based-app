{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\danie\\\\truffleProjects\\\\ElectionSystem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\danie\\\\truffleProjects\\\\ElectionSystem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\danie\\\\truffleProjects\\\\ElectionSystem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\danie\\\\truffleProjects\\\\ElectionSystem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\danie\\\\truffleProjects\\\\ElectionSystem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\danie\\\\truffleProjects\\\\ElectionSystem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\danie\\\\truffleProjects\\\\ElectionSystem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\danie\\\\truffleProjects\\\\ElectionSystem\\\\src\\\\components\\\\VotingPage.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { VotingContext } from './VotingContext';\n\nvar VotingPage = /*#__PURE__*/function (_Component) {\n  _inherits(VotingPage, _Component);\n\n  function VotingPage(props) {\n    var _this;\n\n    _classCallCheck(this, VotingPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VotingPage).call(this, props));\n    _this.handleVote = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var selectedCandidate, voting;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              selectedCandidate = _this.state.selectedCandidate;\n              voting = _this.context;\n\n              if (!(selectedCandidate !== null)) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.prev = 3;\n              _context.next = 6;\n              return voting.methods.castVote(selectedCandidate, _this.state.voterId, Math.floor(Date.now() / 1000));\n\n            case 6:\n              _context.next = 8;\n              return _this.listenToEvent();\n\n            case 8:\n              //localStorage.setItem('userHasVoted', true);\n              console.log(\"Voted for candidate \".concat(selectedCandidate)); //console.log('has voted',this.state.userHasVoted);\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n              console.error(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 11]]);\n    }));\n\n    _this.handleCandidateSelection = function (candidateId) {\n      _this.setState({\n        selectedCandidate: candidateId\n      });\n    };\n\n    _this.handleLogout = function () {\n      localStorage.removeItem('loggedIn');\n      localStorage.removeItem('voterId');\n\n      _this.props.history.push('/');\n    };\n\n    _this.state = {\n      voterId: null,\n      candidates: [],\n      // Store the list of candidates here\n      selectedCandidate: null,\n      userHasVoted: false\n    };\n    return _this;\n  }\n\n  _createClass(VotingPage, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var voting, searchParams, voterId, voterDetails, userHasVoted, candidatesCount, candidates, i, candidate;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                voting = this.context;\n                searchParams = new URLSearchParams(this.props.location.search);\n                voterId = searchParams.get('voterId');\n                this.setState({\n                  voterId: voterId\n                });\n\n                if (!(this.state.userHasVoted == false)) {\n                  _context2.next = 10;\n                  break;\n                }\n\n                _context2.next = 7;\n                return voting.methods.getVoterDetails(voterId).call();\n\n              case 7:\n                voterDetails = _context2.sent;\n                userHasVoted = voterDetails.hasVoted;\n                this.setState({\n                  userHasVoted: userHasVoted\n                });\n\n              case 10:\n                if (!(this.state.userHasVoted == false)) {\n                  _context2.next = 25;\n                  break;\n                }\n\n                _context2.next = 13;\n                return voting.methods.getCandidatesCount().call();\n\n              case 13:\n                candidatesCount = _context2.sent;\n                candidates = [];\n                i = 0;\n\n              case 16:\n                if (!(i < candidatesCount)) {\n                  _context2.next = 24;\n                  break;\n                }\n\n                _context2.next = 19;\n                return voting.methods.getCandidate(i).call();\n\n              case 19:\n                candidate = _context2.sent;\n                candidates.push(candidate);\n\n              case 21:\n                i++;\n                _context2.next = 16;\n                break;\n\n              case 24:\n                this.setState({\n                  candidates: candidates\n                });\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"listenToEvent\",\n    value: function () {\n      var _listenToEvent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                voting.events.VoteCasted({\n                  fromBlock: 'latest'\n                }, function (error, event) {\n                  if (!error) {\n                    console.log('VoteCasted event:', event);\n                    var userAddress = event.returnValues.voter; // Check if the userAddress matches the currently logged-in user\n\n                    if (userAddress === _this2.state.account) {\n                      // Update userHasVoted for the specific user\n                      _this2.setState({\n                        userHasVoted: true\n                      });\n\n                      console.log('user has voted event:', _this2.state.userHasVoted);\n                    } else {\n                      console.error('Error listening to VoteCasted event:', error);\n                    }\n                  }\n                });\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function listenToEvent() {\n        return _listenToEvent.apply(this, arguments);\n      }\n\n      return listenToEvent;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.contract) {\n        this.state.contract.events.VoteCasted().unsubscribe();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          candidates = _this$state.candidates,\n          selectedCandidate = _this$state.selectedCandidate;\n\n      if (this.state.userHasVoted) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }\n        }, \"You have voted successfully.\"), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.handleLogout,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }\n        }, \"Logout\"), /*#__PURE__*/React.createElement(\"button\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }\n        }, \"Results page\"));\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, \"Voting Page\"), /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }\n      }, candidates.map(function (candidate) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: candidate.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }\n        }, candidate.name, \" - \", candidate.party, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.handleCandidateSelection(candidate.id);\n          },\n          disabled: selectedCandidate === candidate.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }\n        }, selectedCandidate === candidate.id ? 'Selected' : 'Select'));\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleVote,\n        disabled: selectedCandidate === null || this.state.userHasVoted,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }\n      }, \"Vote\"));\n    }\n  }]);\n\n  return VotingPage;\n}(Component);\n\nVotingPage.contextType = VotingContext;\nexport default VotingPage;","map":{"version":3,"sources":["C:/Users/danie/truffleProjects/ElectionSystem/src/components/VotingPage.js"],"names":["React","Component","withRouter","VotingContext","VotingPage","props","handleVote","selectedCandidate","state","voting","context","methods","castVote","voterId","Math","floor","Date","now","listenToEvent","console","log","error","handleCandidateSelection","candidateId","setState","handleLogout","localStorage","removeItem","history","push","candidates","userHasVoted","searchParams","URLSearchParams","location","search","get","getVoterDetails","call","voterDetails","hasVoted","getCandidatesCount","candidatesCount","i","getCandidate","candidate","events","VoteCasted","fromBlock","event","userAddress","returnValues","voter","account","contract","unsubscribe","map","id","name","party","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { VotingContext } from './VotingContext';\r\n\r\nclass VotingPage extends Component {\r\n\r\n  static contextType = VotingContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      voterId: null,\r\n      candidates: [], // Store the list of candidates here\r\n      selectedCandidate: null,\r\n      userHasVoted: false,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const voting = this.context;\r\n    const searchParams = new URLSearchParams(this.props.location.search);\r\n    const voterId = searchParams.get('voterId');\r\n    this.setState({ voterId });\r\n    if(this.state.userHasVoted==false){\r\n    const voterDetails = await voting.methods.getVoterDetails(voterId).call();\r\n    const userHasVoted = voterDetails.hasVoted;\r\n    this.setState({userHasVoted:userHasVoted})\r\n    }\r\n    \r\n    if(this.state.userHasVoted==false){\r\n      const candidatesCount = await voting.methods.getCandidatesCount().call();\r\n      const candidates = [];\r\n\r\n      for (let i = 0; i < candidatesCount; i++) {\r\n        const candidate = await voting.methods.getCandidate(i).call();\r\n        candidates.push(candidate);\r\n      }\r\n\r\n      this.setState({ candidates });\r\n    }\r\n  }\r\n\r\n  handleVote = async () => {\r\n    const { selectedCandidate } = this.state;\r\n    const  voting  = this.context;\r\n\r\n\r\n    if (selectedCandidate !== null) {\r\n      try {\r\n        // Call the function to cast the vote using selectedCandidate\r\n        await voting.methods\r\n        .castVote(selectedCandidate, this.state.voterId, Math.floor(Date.now() / 1000))\r\n        await this.listenToEvent()\r\n        //localStorage.setItem('userHasVoted', true);\r\n        console.log(`Voted for candidate ${selectedCandidate}`);\r\n        //console.log('has voted',this.state.userHasVoted);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  async listenToEvent(){\r\n    voting.events.VoteCasted({ fromBlock: 'latest' }, (error, event) => {\r\n        if (!error) {\r\n          console.log('VoteCasted event:', event);\r\n          const userAddress = event.returnValues.voter;\r\n            // Check if the userAddress matches the currently logged-in user\r\n            if (userAddress === this.state.account) {\r\n            // Update userHasVoted for the specific user\r\n            this.setState({ userHasVoted: true });\r\n            console.log('user has voted event:', this.state.userHasVoted)\r\n        } else {\r\n          console.error('Error listening to VoteCasted event:', error);\r\n        }\r\n    }\r\n  }); \r\n  }\r\n\r\n  handleCandidateSelection = candidateId => {\r\n    this.setState({ selectedCandidate: candidateId });\r\n  };\r\n\r\n  handleLogout = () => {\r\n    localStorage.removeItem('loggedIn');\r\n    localStorage.removeItem('voterId');\r\n  \r\n    this.props.history.push('/'); \r\n  };\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.contract) {\r\n      this.state.contract.events.VoteCasted().unsubscribe();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { candidates, selectedCandidate } = this.state;\r\n\r\n    if(this.state.userHasVoted){\r\n      return(\r\n        <div>\r\n            <h5>You have voted successfully.</h5>\r\n            <button onClick={this.handleLogout}>\r\n              Logout\r\n            </button>\r\n            <button>\r\n              Results page\r\n            </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h2>Voting Page</h2>\r\n        <ul>\r\n          {candidates.map(candidate => (\r\n            <li key={candidate.id}>\r\n              {candidate.name} - {candidate.party}\r\n              <button\r\n                onClick={() => this.handleCandidateSelection(candidate.id)}\r\n                disabled={selectedCandidate === candidate.id}\r\n              >\r\n                {selectedCandidate === candidate.id ? 'Selected' : 'Select'}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <button onClick={this.handleVote} disabled={selectedCandidate === null || this.state.userHasVoted}>\r\n          Vote\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default VotingPage;\r\n"]},"metadata":{},"sourceType":"module"}